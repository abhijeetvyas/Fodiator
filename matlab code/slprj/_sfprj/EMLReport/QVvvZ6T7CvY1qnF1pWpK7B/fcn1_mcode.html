<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> <span class="var type0" id="S2T0U3">ExtForce_lflap</span> = fcn(<span class="var type1" id="S3T1U6">vel</span>,<span class="var type1" id="S4T2U7">Cl</span>,<span class="var type1" id="S5T2U8">Cd</span>,<span class="var type1" id="S6T2U9">angle_lflap</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2"> 2</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3"> 3</a></span><span class="line"><span class="mxinfo " id="T2:U5"><span class="var type1" id="S7T2U12">u</span> = <span class="mxinfo " id="T2:U7"><span class="var type1" id="S3T1U14">vel</span>(<span class="mxinfo " id="T3:U9">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4"> 4</a></span><span class="line"><span class="mxinfo " id="T2:U10"><span class="var type1" id="S8T2U18">w</span> = <span class="mxinfo " id="T2:U12"><span class="var type1" id="S3T1U20">vel</span>(<span class="mxinfo " id="T2:U14">3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5"> 5</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6"> 6</a></span><span class="line"><span class="mxinfo " id="T2:U15"><span class="var type1" id="S9T2U24">angle_rad</span> = <span class="mxinfo " id="T2:U17"><span class="mxinfo " id="T2:U18"><span class="var type1" id="S6T2U27">angle_lflap</span>*<span class="mxinfo " id="T2:U20">pi</span></span>/<span class="mxinfo " id="T2:U21">180</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7"> 7</a></span><span class="line"><span class="mxinfo " id="T2:U22"><span class="var type1" id="S11T2U33">u0</span> = <span class="mxinfo " id="T2:U24"><span class="mxinfo " id="T2:U25"><span class="var type1" id="S7T2U36">u</span>*<span class="mxinfo " id="T2:U27">cos(<span class="var type1" id="S9T2U39">angle_rad</span>)</span></span>-<span class="mxinfo " id="T2:U29"><span class="var type1" id="S8T2U41">w</span>*<span class="mxinfo " id="T2:U31">sin(<span class="var type1" id="S9T2U44">angle_rad</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8"> 8</a></span><span class="line"><span class="mxinfo " id="T2:U33"><span class="var type1" id="S14T2U47">w0</span> = <span class="mxinfo " id="T2:U35"><span class="mxinfo " id="T2:U36"><span class="var type1" id="S7T2U50">u</span>*<span class="mxinfo " id="T2:U38">sin(<span class="var type1" id="S9T2U53">angle_rad</span>)</span></span>+<span class="mxinfo " id="T2:U40"><span class="var type1" id="S8T2U55">w</span>*<span class="mxinfo " id="T2:U42">cos(<span class="var type1" id="S9T2U58">angle_rad</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9"> 9</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10">10</a></span><span class="line"><span class="mxinfo " id="T2:U44"><span class="var type1" id="S15T2U61">rho</span> = <span class="mxinfo " id="T2:U46">1000</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11">11</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12">12</a></span><span class="line"><span class="mxinfo " id="T2:U47"><span class="var type1" id="S16T2U65">A_lflap</span> = <span class="mxinfo " id="T2:U49">0.015</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13">13</a></span><span class="line"><span class="mxinfo " id="T2:U50"><span class="var type1" id="S17T2U69">a</span> = <span class="mxinfo " id="T2:U52">100</span></span>; <span class="mxinfo " id="T2:U53"><span class="var type1" id="S18T2U73">b</span>= <span class="mxinfo " id="T2:U55">150</span></span>; <span class="mxinfo " id="T2:U56"><span class="var type1" id="S19T2U77">rx</span> = <span class="mxinfo " id="T2:U58">90</span></span>; <span class="mxinfo " id="T2:U59"><span class="var type1" id="S20T2U81">rz</span> = <span class="mxinfo " id="T2:U61">30</span></span>; <span class="mxinfo " id="T2:U62"><span class="var type1" id="S21T2U85">ry</span> = <span class="mxinfo " id="T2:U64">88</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,14" id="srcline14">14</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,15" id="srcline15">15</a></span><span class="line"><span class="var type0" id="S22T0U89">alpha</span> = -<span class="message error" id="M1F1C">atan2(<span class="mxinfo " id="T2:U65"><span class="var type1" id="S14T2U94">w0</span>/<span class="var type1" id="S11T2U95">u0</span></span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,16" id="srcline16">16</a></span><span class="line"><span class="var type0" id="S24T0U98">V</span> = <span class="var type1" id="S11T2U101">u0</span>*cos(<span class="var type0" id="S22T0U104"><span class="message error" id="M2F1C">alpha</span></span>)+v0*sin(<span class="var type0" id="S22T0U110">alpha</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,17" id="srcline17">17</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,18" id="srcline18">18</a></span><span class="line"><span class="var type0" id="S26T0U113">D</span> = <span class="mxinfo " id="T2:U69"><span class="mxinfo " id="T2:U70"><span class="mxinfo " id="T2:U71">(<span class="mxinfo " id="T2:U72"><span class="mxinfo " id="T2:U73">1</span>/<span class="mxinfo " id="T2:U74">2</span></span>)*<span class="var type1" id="S4T2U123">Cl</span></span>*<span class="var type1" id="S15T2U124">rho</span></span>*<span class="var type1" id="S16T2U125">A_lflap</span></span>*<span class="var type0" id="S24T0U126"><span class="message error" id="M3F1C">V</span></span>*abs(<span class="var type0" id="S24T0U129">V</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,19" id="srcline19">19</a></span><span class="line"><span class="var type0" id="S28T0U132">L</span> = <span class="mxinfo " id="T2:U78"><span class="mxinfo " id="T2:U79"><span class="mxinfo " id="T2:U80">(<span class="mxinfo " id="T2:U81"><span class="mxinfo " id="T2:U82">1</span>/<span class="mxinfo " id="T2:U83">2</span></span>)*<span class="var type1" id="S5T2U142">Cd</span></span>*<span class="var type1" id="S15T2U143">rho</span></span>*<span class="var type1" id="S16T2U144">A_lflap</span></span>*<span class="var type0" id="S24T0U145"><span class="message error" id="M4F1C">V</span></span>*abs(<span class="var type0" id="S24T0U148">V</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,20" id="srcline20">20</a></span><span class="line"><span class="var type0" id="S29T0U151">Fx</span> = -(<span class="var type0" id="S26T0U156"><span class="message error" id="M5F1C">D</span></span>*cos(<span class="var type0" id="S9T0U159">angle_rad</span>)+<span class="var type0" id="S28T0U161">L</span>*sin(<span class="var type0" id="S9T0U164">angle_rad</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,21" id="srcline21">21</a></span><span class="line"><span class="mxinfo " id="T2:U87"><span class="var type1" id="S30T2U167">Fy</span> =  <span class="mxinfo " id="T2:U89">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,22" id="srcline22">22</a></span><span class="line"><span class="var type0" id="S31T0U171">Fz</span> =  (<span class="var type0" id="S26T0U175"><span class="message error" id="M6F1C">D</span></span>*sin(<span class="var type0" id="S9T0U178">angle_rad</span>)-<span class="var type0" id="S28T0U180">L</span>*cos(<span class="var type0" id="S9T0U183">angle_rad</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,23" id="srcline23">23</a></span><span class="line"><span class="var type0" id="S32T0U186">Mx</span> = -(<span class="var type0" id="S31T0U190"><span class="message error" id="M7F1C">Fz</span></span>*(<span class="var type0" id="S21T0U193">ry</span>+(<span class="var type0" id="S17T0U196">a</span>/2)));</span></span>
<span class="srcline"><span class="lineno"><a href="1,24" id="srcline24">24</a></span><span class="line"><span class="var type0" id="S33T0U200">My</span> =  <span class="var type0" id="S29T0U203"><span class="message error" id="M8F1C">Fx</span></span>*(<span class="var type0" id="S20T0U206">rz</span>+(<span class="var type0" id="S18T0U210">b</span>/2)*sin(<span class="var type0" id="S9T0U214">angle_rad</span>))+<span class="var type0" id="S31T0U216">Fz</span>*(<span class="var type0" id="S19T0U219">rx</span>+(<span class="var type0" id="S18T0U223">b</span>/2)*cos(<span class="var type0" id="S9T0U227">angle_rad</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="1,25" id="srcline25">25</a></span><span class="line"><span class="var type0" id="S34T0U230">Mz</span> = -(<span class="var type0" id="S29T0U234"><span class="message error" id="M9F1C">Fx</span></span>*(<span class="var type0" id="S21T0U237">ry</span>+(<span class="var type0" id="S17T0U240">a</span>/2)));</span></span>
<span class="srcline"><span class="lineno"><a href="1,26" id="srcline26">26</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,27" id="srcline27">27</a></span><span class="line"><span class="var type0" id="S2T0U244">ExtForce_lflap</span> = [<span class="var type0" id="S29T0U247"><span class="message error" id="M10F1C">Fx</span></span>;<span class="var type0" id="S30T0U249">Fy</span>;<span class="var type0" id="S31T0U251">Fz</span>;<span class="var type0" id="S32T0U253">Mx</span>;<span class="var type0" id="S33T0U255">My</span>;<span class="var type0" id="S34T0U257">Mz</span>];</span></span>
<span class="srcline"><span class="lineno"><a href="1,28" id="srcline28">28</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,29" id="srcline29">29</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,30" id="srcline30">30</a></span><span class="line"> </span></span>
</pre>
